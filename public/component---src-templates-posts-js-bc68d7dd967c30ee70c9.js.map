{"version":3,"sources":["webpack://Kaleb's Portfolio/./src/components/posts.js","webpack://Kaleb's Portfolio/./src/templates/posts.js"],"names":["title","posts","postsByYear","reduce","groups","post","year","Date","published_at","getFullYear","set","get","Map","postsJSX","forEach","push","className","key","map","id","to","slug","toLocaleDateString","month","day","length","data","pageContext","allFile","nodes","node","childMdx","frontmatter","fields"],"mappings":"sOA8CA,EA3Cc,SAAC,GAAsB,IAApBA,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,MAChBC,EAAcD,EAAME,QAAO,SAACC,EAAQC,GACxC,IAAMC,EAAO,IAAIC,KAAKF,EAAKG,cAAcC,cAEzC,OAAOL,EAAOM,IAAIJ,EAAX,kBAAsBF,EAAOO,IAAIL,IAAS,IAA1C,CAA+CD,OACrD,IAAIO,KAEDC,EAAW,GAwBjB,OAvBAX,EAAYY,SAAQ,SAACb,EAAOK,GAC1BO,EAASE,KACP,uBAAKC,UAAU,cAAcC,IAAKX,GAChC,uBAAKU,UAAU,aAAaV,GAC5B,sBAAIU,UAAU,cACXf,EAAMiB,KAAI,SAACb,GAAD,OACT,sBAAIW,UAAU,YAAYC,IAAKZ,EAAKc,IAClC,gBAAC,KAAD,CAAMC,GAAIf,EAAKgB,MACb,wBAAML,UAAU,cAAcX,EAAKL,OACnC,wBAAMgB,UAAU,YACb,IAAIT,KAAKF,EAAKG,cAAcc,mBAAmB,QAAS,CACvDC,MAAO,OACPC,IAAK,wBAYrB,wBAAMR,UAAU,SACd,0BAAKhB,GACJC,EAAMwB,OAAS,EACdZ,EAEA,gD,+kBChCD,IAwCP,EAlBsB,SAAC,GAA2B,IAAzBa,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,YAEvB1B,EADQyB,EAAKE,QAAQC,MACPX,KAAI,SAACY,GAAD,gBACnBA,EAAKC,SAASC,aACdF,EAAKG,QAFc,IAGtBd,GAAIW,EAAKX,QAGX,OACE,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAKnB,MAAO2B,EAAY3B,QACxB,gBAAC,IAAD,KACE,gBAAC,EAAD,CAAOC,MAAOA,EAAOD,MAAO2B,EAAY3B","file":"component---src-templates-posts-js-bc68d7dd967c30ee70c9.js","sourcesContent":["import React from \"react\"\nimport { Link } from \"gatsby\"\n\nconst Posts = ({ title, posts }) => {\n  const postsByYear = posts.reduce((groups, post) => {\n    const year = new Date(post.published_at).getFullYear()\n    // Map.prototype.set returns the whole Map object\n    return groups.set(year, [...(groups.get(year) || []), post])\n  }, new Map())\n\n  const postsJSX = []\n  postsByYear.forEach((posts, year) => {\n    postsJSX.push(\n      <div className=\"posts-group\" key={year}>\n        <div className=\"post-year\">{year}</div>\n        <ul className=\"posts-list\">\n          {posts.map((post) => (\n            <li className=\"post-item\" key={post.id}>\n              <Link to={post.slug}>\n                <span className=\"post-title\">{post.title}</span>\n                <span className=\"post-day\">\n                  {new Date(post.published_at).toLocaleDateString(\"en-GB\", {\n                    month: \"long\",\n                    day: \"numeric\",\n                  })}\n                </span>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    )\n  })\n\n  return (\n    <main className=\"posts\">\n      <h1>{title}</h1>\n      {posts.length > 0 ? (\n        postsJSX\n        ) : (\n        <p>Nothing here yet.</p>\n      )}\n    </main>\n  )\n}\n\nexport default Posts\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport Shortcodes from \"../components/shortcodes\"\n\nimport LayoutMain from \"../components/layouts/main\"\nimport Posts from \"../components/posts\"\nimport SEO from \"../components/seo\"\n\nexport const query = graphql`\n  query {\n    allFile(\n      sort: { fields: childMdx___frontmatter___published_at, order: DESC }\n      filter: { sourceInstanceName: { eq: \"post\" } }\n    ) {\n      nodes {\n        childMdx {\n          frontmatter {\n            published_at\n            title\n          }\n        }\n        fields {\n          slug\n        }\n        id\n      }\n    }\n  }\n`\n\nconst PostsTemplate = ({ data, pageContext }) => {\n  const nodes = data.allFile.nodes\n  const posts = nodes.map((node) => ({\n    ...node.childMdx.frontmatter,\n    ...node.fields,\n    id: node.id,\n  }))\n\n  return (\n    <LayoutMain>\n      <SEO title={pageContext.title} />\n      <Shortcodes>\n        <Posts posts={posts} title={pageContext.title} />\n      </Shortcodes>\n    </LayoutMain>\n  )\n}\n\nexport default PostsTemplate\n"],"sourceRoot":""}